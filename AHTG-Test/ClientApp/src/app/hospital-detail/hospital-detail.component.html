<h1>Hospital Details</h1>
<div class="loading-indicator" *ngIf="isBusy">
  <mat-spinner [diameter]="50"></mat-spinner>
</div>
<form [formGroup]="form" (ngSubmit)="submitForm()">
  <div class="row">
    <div class="col-12 col-lg-6">
      <mat-card>
        <mat-card-header>
          <mat-card-title>Hospital Information</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <mat-form-field>
            <mat-label>Name</mat-label>
            <input matInput placeholder="Hospital name" formControlName="name" required>
            <mat-error *ngIf="(form.get('name'))?.errors?.required">Required</mat-error>
          </mat-form-field>
          <br />
          <mat-form-field>
            <mat-label>Phone Number</mat-label>
            <input matInput placeholder="Phone Number" formControlName="phoneNumber" required>
            <mat-error *ngIf="(form.get('phoneNumber'))?.errors?.required">Required</mat-error>
          </mat-form-field>
          <br />
          <mat-form-field>
            <mat-label>Number of Employees</mat-label>
            <input matInput placeholder="Number of Employees" formControlName="numberOfEmployees" required>
            <mat-error *ngIf="(form.get('numberOfEmployees'))?.errors?.required">Required</mat-error>
            <mat-error *ngIf="(form.get('numberOfEmployees'))?.errors?.pattern">Invalid number</mat-error>
          </mat-form-field>
        </mat-card-content>
      </mat-card>
    </div>
    <div class="col-12 col-lg-6">
      <mat-card>
        <mat-card-header>
          <mat-card-title>Hospital Address</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <mat-form-field>
            <mat-label>Address Line 1</mat-label>
            <input matInput placeholder="Address Line 1" formControlName="addressLine1" required>
            <mat-error *ngIf="(form.get('addressLine1'))?.errors?.required">Required</mat-error>
          </mat-form-field>
          <br />
          <mat-form-field>
            <mat-label>Address Line 2</mat-label>
            <input matInput placeholder="Address Line 2" formControlName="addressLine2" required>
            <mat-error *ngIf="(form.get('addressLine2'))?.errors?.required">Required</mat-error>
          </mat-form-field>
          <br />
          <mat-form-field>
            <mat-label>City</mat-label>
            <input matInput placeholder="City" formControlName="addressCity" required>
            <mat-error *ngIf="(form.get('addressCity'))?.errors?.required">Required</mat-error>
          </mat-form-field>
          <br />
          <mat-form-field>
            <mat-label>State</mat-label>
            <!--<input matInput placeholder="State" formControlName="addressState" required>-->
            <mat-select formControlName="addressState" required>
              <mat-option *ngFor="let state of states" [value]="state.code">{{state.description}}</mat-option>
            </mat-select>
            <mat-error *ngIf="(form.get('addressState'))?.errors?.required">Required</mat-error>
          </mat-form-field>
          <br />
          <mat-form-field>
            <mat-label>Zip Code</mat-label>
            <input matInput placeholder="Zip Code" formControlName="addressZip" required maxlength="5">
            <mat-error *ngIf="(form.get('addressZip'))?.errors?.required">Required</mat-error>
            <mat-error *ngIf="(form.get('addressZip'))?.errors?.pattern">Invalid zip code</mat-error>
          </mat-form-field>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
  <button mat-raised-button color="primary" type="submit" [disabled]="!form.valid" class="submit-button">Submit</button>
</form>
